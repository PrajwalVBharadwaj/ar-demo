<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>A-Frame</title>
    <script
      type="application/javascript"
      src="https://aframe.io/releases/1.0.4/aframe.min.js"
    ></script>
    <script src="https://rawgit.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
    <script
      type="application/javascript"
      src="https://cdn.jsdelivr.net/gh/PrajwalVBharadwaj/ar-demo/public/A-Frame.js"
    ></script>
    <script
      type="application/javascript"
      src="https://hammerjs.github.io/dist/hammer.min.js"
    ></script>
    <script>
      alert("29 duild");
      AFRAME.registerComponent("registerevents", {
        init: function () {
          var element = document.querySelector("body");
          this.marker = document.querySelector("a-marker");
          var model = document.getElementById("beachBall");
          var hammertime = new Hammer(element);
          var pinch = new Hammer.Pinch(); // Pinch is not by default in the recognisers
          hammertime.add(pinch); // add it to the Manager instance

          hammertime.on("pan", (ev) => {
            let rotation = model.getAttribute("rotation");
            switch (ev.direction) {
              case 2:
                rotation.y = rotation.y + 4;
                break;
              case 4:
                rotation.y = rotation.y - 4;
                break;
              case 8:
                rotation.x = rotation.x + 4;
                break;
              case 16:
                rotation.x = rotation.x - 4;
                break;
              default:
                break;
            }
            model.setAttribute("rotation", rotation);
          });
        },
      });
    </script>
  </head>
  <body>
    <p>Go Corona, Go</p>
    <a-scene arjs="debugUIEnabled: true;">
      <a-marker registerevents preset="hiro" id="marker1" smooth="true">
        <a-entity
          id="beachBall"
          obj-model="obj:url(https://cdn.jsdelivr.net/gh/PrajwalVBharadwaj/ar-demo/public/BeachBall.obj);
          mtl: url(https://cdn.jsdelivr.net/gh/PrajwalVBharadwaj/ar-demo/public/BeachBall.mtl)"
          scale="0.03 0.03 0.03"
          position="-0.5 0 0"
        ></a-entity>
      </a-marker>
      <a-camera camera></a-camera>
    </a-scene>
  </body>
</html>
